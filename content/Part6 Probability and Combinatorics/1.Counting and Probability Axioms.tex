\chapterimage{orange2.jpg}
\chapterspaceabove{6.75cm} 
\chapterspacebelow{7.25cm} 



\chapter{Counting and Probability Axioms}
In this part, we discuss wider topics on probability and probability distributions. 
Probability theory is a branch of mathematics that deals with the analysis of random phenomena. The fundamental concept of the theory is the probability measure, a way of assigning a number to each plausible outcome of an event in such a way that the number reflects the event's likelihood of occurring. This mathematical framework allows for the study and modeling of uncertainty and complexity in various fields, ranging from physics and biology to economics and psychology. By providing the tools to make quantitative predictions about the likelihood of certain outcomes, probability theory forms the basis for statistical inference, enabling scientists and statisticians to infer properties about a population given a sample. The origins of probability theory can be traced back to the analysis of games of chance and has since evolved into a vital component of both theoretical and applied mathematics.

    \section{Counting Method}
    The very first section in this chapter focuses on the basics of counting, which is the foundation of the whole probability theory. In the study of probability, we aim to measure 
    random events, and to do this, we must know their frequency, or rather, how many possible outcomes each event has. Counting method allows us to get the possible number of outcomes in a 
    systematic way.

    \subsection{Principal of Counting}
    We may start with the most basic counting. Considering tossing a coin, and we make the assumption that this coin is unbiased, meaning that the chance of getting a chance or tail must be 
    exactly $\frac{1}{2}$. In this case, the total possible number of outcome is 2. This conclusion is obviously true and can be obtained by intuition, because we cannot find a third case that the result is neither a head nor a tail, as the event
    is binary.

    Now let's increase the number of trials, how many outcomes can we have when tossing a coin twice? If we use T to denote that the result is a head and F for the tail, like what we have
    done in Boolean Algebra, we have 4 ways to arrange the possibilities:
    $$(T,T), (T,F), (F,T),(F,F).$$
    Thus we conclude that we have 4 possible outcomes. 

    This example lead us to a fundamental theorem in counting.
    \begin{theorem}[The Basic Principal of Counting]\label{Principal of Counting}
        Suppose that two experiments are to be performed. Then if experiment1 can
        result in any one of $m$ possible outcomes and if, for each outcome of experiment 1, there are $n$ possible outcomes of experiment 2, then together there are $mn$
        possible outcomes of the two experiments.
    \end{theorem}

    This theorem could be proved by mathematical induction.
    \begin{proof}
        Start with the base case of $m = n = 1$, there are only 1 possible combination of event 1 and event 2.
        We move on to the case when $m = n = 2$, there are $4 = 2\times 2$ outcomes: $(1, 1), (1, 2), (2, 1), (2, 2)$.
        Suppose that the number of outcomes for each event are any integer $n \in \mathbb{N}^+$, similarly, we can enumerate all the cases from $(1, 1)$ to $(n, n)$,  $n^2 = n\times n$ outcomes.
        For the case when the number of outcomes coming to $n+1$. We can still enumerate all $(n+1)^2 = (n+1)\times(n+1)$ outcomes in a similar way.
        \par Therefore, the theorem is proven. This could be visualized by $$\begin{array}{l}(1,1),(1,2), \ldots,(1, n) \\(2,1),(2,2), \ldots,(2, n) \\\vdots \\(m, 1),(m, 2), \ldots,(m, n)\end{array}$$
    \end{proof}

    \begin{example}
        A small community consists of 10 women, each of whom has 3 children. If one woman and one of her children are to be chosen as mother and child of the year,
        how many choices are possible?
    \end{example}
        \begin{solution}
            By theorem\ref{Principal of Counting}, the event chosen as woman has $m=10$ outcomes, while there are $n = 3$ outcomes for choosing children. 
            Hence the total combinations will be $m\times n = 10\times 3 =30 $
        \end{solution}
    But mathematicians hate listing possible cases. Is there a way to describe the relation between the trial of events and number
    of possible outcomes? Think about the way we treat Boolean variables in the truth table, to get the possible outcomes, we arrange them in all possible ways to get a complete
    truth table. Just like what we do here, we are making trials twice here for tossing coins, each trial has 2 outcomes, and when we make a truth table, we are generating combinations of
    Boolean value, and we know that $n$ Boolean variable has $2^n$ ways of arrangement. So we can say that tossing a coin here could be fitted into this relation when $n=2$, and they are
    actually equivalent in terms of  counting the number of outcomes. With this, we can deduce that if we toss the coin for $n$ times, we also have $2^n$ outcomes.

    This allows us to generalize theorem \ref{Principal of Counting}.

    \begin{theorem}[The Generalized Principal of Counting]\label{Generalized Principal of Counting}
        If $r$ experiments that are to be performed are such that the first one may result in any of $n_1$ possible outcomes; and if, for each of these $n_1$  possible outcomes,
        there are $n_2$  possible outcomes of the second experiment; and if, for each of the possible outcomes of the first two experiments, there are $n_3$  possible outcomes
        of the third experiment; and if ..., then there is a total of  $\Pi_{k=1}^r{n_k} = n_1 \cdot n_2 \dots n_r$ possible outcomes of the $r$ experiments.
    \end{theorem}

    Similarly, this theorem could be proven by mathematical induction with theorem\ref{Principal of Counting} as a lemma. We leave this proof as an exercise.

    This theorem also what we call product rule of counting, which also applicable to probability, which we will discuss in the next section.

    Now we introduce another parallel theorem known as addition rule of counting. This is even easier to understand, suppose 
    \begin{theorem}[Addition Rule of Counting]\label{Adittion Rule}
        Suppose that an experiment can be performed in one of $m$ ways \textbf{or} in one of $n$ ways. Where none of the $n$ ways are the same as the $m$
        ways, then there are $m+n$ ways to perform it.
    \end{theorem}
    This theorem could be proven directly by using set.
    \begin{proof}
        Let \( A \) and \( B \) be finite sets such that \( A \cap B = \emptyset \). By the definition of disjoint sets, no element is in both \( A \) and \( B \).
        
        Let \( a_i \) be an element in \( A \) and \( b_j \) be an element in \( B \), for \( i = 1, 2, \ldots, n \) and \( j = 1, 2, \ldots, m \). The set \( A \) contains exactly \( n \) elements and \( B \) contains exactly \( m \) elements.
        
        The union \( A \cup B \) is a set containing all the elements \( a_i \) and \( b_j \) without any repetition, since \( A \) and \( B \) are disjoint.
        
        Therefore, the set \( A \cup B \) has \( n + m \) elements, which proves the theorem.
        \end{proof}
    \begin{example}
        A student can choose a computer project from one of three lists. The three lists contain 23, 15, and 19 possible projects, respectively. 
        No project is on more than one list. How many possible projects are there to choose from?
    \end{example}
    \begin{solution}
        By addition rule, the student can choose a project by selecting a project from the first list, the second list, or the third list. Because no project is on more than one list, 
        by the sum rule there are $23 + 15 + 19 = 57$ ways to choose a project.
    \end{solution}

    \begin{example}
        How many different license plates can be made if each plate contains a sequence of three uppercase English letters followed by three digits (and no sequences of letters are prohibited, even if they are obscene)?
    \end{example}
        
        \begin{solution}
        To determine the number of different license plates possible, we use the rule of product, also known as the counting principle. 
        
        Each of the three positions for the letters can be filled with any of the 26 letters of the English alphabet. Similarly, each of the three positions for the digits can be filled with any of the 10 digits from 0 to 9.
        
        Therefore, the total number of possible license plates is given by:
        \[ 26 \times 26 \times 26 \times 10 \times 10 \times 10 = 26^3 \times 10^3 \]
        
        Calculating the powers, we get:
        \[ 26^3 = 26 \times 26 \times 26 = 17576 \]
        \[ 10^3 = 10 \times 10 \times 10 = 1000 \]
        
        Multiplying these together, we find the total number of different license plates that can be made:
        \[ 17576 \times 1000 = 17576000 \]
        
        Hence, there are 17,576,000 different possible license plates.
        \end{solution}
        
        To correctly count the number of ways to do the two tasks, we must subtract the number of ways that are counted twice. This leads us to an important counting rule.
        Actually, we have already covered this conclusion in set theory.

        The Subtraction Rule in set theory is a straightforward concept used when we need to find the number of elements in a set by excluding those that meet certain criteria. It states that if we have a universal set \( U \) and a subset \( A \) that we wish to exclude, then the number of elements not in \( A \) is \( |U| - |A| \), where \( |S| \) denotes the cardinality of set \( S \).

        The Principle of Inclusion-Exclusion extends the Subtraction Rule for multiple sets. It corrects the overcounting that occurs when we subtract the cardinalities of overlapping sets from the universal set. For two sets \( A \) and \( B \), it is given by \( |A \cup B| = |A| + |B| - |A \cap B| \).
        
        \begin{theorem}[Subtraction Rule]
            If a task can be done in either $n_1$ ways or $n_2$ ways, then the number of ways to do the task is $n_1+n_2$ minus the number of ways to do the task that are common to the two different ways.
        \end{theorem}
        Here are two examples demonstrating these rules.
        \begin{example}
            Suppose a library has 1,000 books, 300 of which are fiction. If we want to know how many books are non-fiction, we can use the Subtraction Rule:
            $$ \text{Number of non-fiction books} = |U| - |A| = 1,000 - 300 = 700. $$
        \end{example}

        \begin{example}
            In a survey of 200 people, 120 say they like tea, and 150 like coffee. If 50 people like both tea and coffee, to find out how many people like either tea or coffee, we apply the Principle of Inclusion-Exclusion:
            $$ \text{Number of people who like tea or coffee} = |A| + |B| - |A \cap B| = 120 + 150 - 50 = 220. $$
        \end{example}

        We also have division rule of counting, which could be further explained by equivalence class. 
        \begin{theorem}[Rule of Division]
            The rule of division states that there are $n/d$ ways to do a task if it can be done using a procedure that can be carried out in 
                $n$ ways, and for each way $w$, exactly $d$ of the $n$ ways correspond to the way $w$. In a nutshell, the division rule is a common way to ignore "unimportant" differences when counting things.
        \end{theorem}
            This theorem could be further explained by congruence class.
            \begin{example}
                Suppose a set \(X\) with \(n\) elements is partitioned into \(k\) equivalence classes by an equivalence relation, and each equivalence class contains \(m\) elements. If we wish to count the number of distinct subsets of \(X\) that can be formed without regard to the ordering of elements within each equivalence class, we can apply the Division Rule. Since each equivalence class is indistinguishable in terms of the partition, the total number of distinct subsets is \(n/m\), where \(n\) is the total number of elements in the set, and \(m\) is the number of elements in each equivalence class.
            \end{example}

            \begin{example}
                If the total degree of a graph is 58, how many edges does it have?
            \end{example}
            \begin{solution}
                hen we count the degrees, we count each edge twice, so there are 58/2 = 29 edges.
            \end{solution}
    \subsection{Pigeonhole Theorem}
        We also have another useful conclusion on counting called pigeonhole theorem. Suppose we have 8 pigeons and 7 pigeonholes, then there must be one pigeonhole that
        holds 2 pigeons.
        \begin{theorem}[pigeonhole theorem]
            If $k$ is a positive integer and $k+1$ or more objects are placed into $k$ boxes, then there is at least one box containing two or more of the objects.
        \end{theorem}
        
        \begin{proof}
            We prove the pigeonhole principle using a proof by contraposition. Suppose that none of the $k$ boxes contains more than one object. Then the total number of objects would be 
            at most $k$ This is a contradiction, because there are at least $k+1$ objects.
        \end{proof}
        This theorem could also be generalized.
        \begin{theorem}[Generalized Pigeonhole Principle]
            If \( N \) objects are placed into \( k \) boxes, then there is at least one box containing at least \( \lceil N/k \rceil \) objects.
            \end{theorem}
            
            \begin{proof}
            We will prove the statement by contraposition. Let us assume that no box contains \( \lceil N/k \rceil \) or more objects. This means each box has at most \( \lceil N/k \rceil - 1 \) objects.
            And the number of objects being placed cannot be $N$, so we have the number of object less than $N$ (this is obvious because it can't be greater than $N$). 
            
            The total number of objects, under this assumption, can be represented by multiplying the number of boxes by the maximum number of objects each box could contain:
            \[
            k \left( \left\lceil \frac{N}{k} \right\rceil - 1 \right)
            \]
            Using the property that \( \lceil x \rceil \leq x + 1 \) for any real number \( x \), we substitute \( \frac{N}{k} \) for \( x \) to obtain:
            \begin{remark}
                We get this result in integer function, just in case that you don't remember...
            \end{remark}
            \[
            \left\lceil \frac{N}{k} \right\rceil \leq \frac{N}{k} + 1
            \]
            Applying this to our previous equation:
            \[
            k \left( \left\lceil \frac{N}{k} \right\rceil - 1 \right) < k \left( \frac{N}{k} + 1 - 1 \right) = N
            \]
            This shows that the total number of objects is less than \( N \) under our initial assumption, which is a contradiction since we started with \( N \) objects.
            
            Thus, the contrapositive has been proven true: if all boxes have fewer than \( \lceil N/k \rceil \) objects, then we do not have \( N \) objects. Therefore, by contraposition, the original statement is also true: if \( N \) objects are placed into \( k \) boxes, there must be at least one box with \( \lceil N/k \rceil \) or more objects.
            \end{proof}
            
        \begin{example}
            \begin{itemize}
                \item Among any group of 367 people, there must be at least two with the same birthday, because
                there are only 366 possible birthdays.
                \item In any group of 27 English words, there must be at least two that begin with the same letter,
                because there are 26 letters in the English alphabet.
            \end{itemize}
        \end{example}

        \begin{example}
            What is the minimum number of students required in a discrete mathematics class to be sure that at least six will receive the same grade, if there are five possible grades, A, B, C, D, and F?
            \end{example}
            
            \begin{proof}
            The minimum number of students needed to ensure that at least six students receive the same grade can be found using the Pigeonhole Principle. According to this principle, if \(N\) objects (in this case, students) are distributed among \(k\) categories (in this case, grades), and if \(N > k \cdot (m-1)\) where \(m\) is the minimum number of objects that we want in at least one category, then at least one category must contain at least \(m\) objects.
            
            Here, we want \(m = 6\) students to have the same grade and we have \(k = 5\) grades. We can apply the formula to find the minimum \(N\):
            
            \[ N > 5 \cdot (6-1) \]
            \[ N > 25 \]
            
            The smallest integer greater than 25 is 26, so at least 26 students are needed to guarantee that at least six will receive the same grade. If we had only 25 students, it could happen that each of the five grades is assigned to exactly five students, which means no grade would have six students. Therefore, 26 is the minimum number of students required to ensure that at least six students will receive the same grade.
            \end{proof}


    \subsection{Exercises}
    \begin{exercise}
        Prove the Generalized Principal of Counting.
    \end{exercise}
    \begin{proof}
        We proceed by mathematical induction on \( r \), the number of experiments.
        
        \textbf{Base Case:} For \( r = 1 \), the theorem trivially holds since there are \( n_1 \) possible outcomes for the single experiment.
        
        \textbf{Inductive Step:} Assume that the theorem holds for \( r = k \), that is, there are \( \prod_{i=1}^k n_i \) outcomes for \( k \) experiments. Now consider \( r = k + 1 \) experiments. For the first \( k \) experiments, by the inductive hypothesis, we have \( \prod_{i=1}^k n_i \) outcomes. For each of these outcomes, the \( (k+1)^{th} \) experiment can have \( n_{k+1} \) outcomes. Therefore, the total number of outcomes for \( k + 1 \) experiments is:
        
        \[
        \left( \prod_{i=1}^k n_i \right) \cdot n_{k+1} = \prod_{i=1}^{k+1} n_i
        \]
        
        This completes the inductive step and thus the proof.
    \end{proof}
        
    \begin{exercise}
        How many functions are there from a set with $m$ elements to a set with $n$ elements?
    \end{exercise}
    \begin{solution}
        A function corresponds to a choice of one of the $n$ elements in the codomain for each of
        the $m$ elements in the domain. Hence, by the product rule there are $n\cdot n\cdot\cdots\cdot n=n^m$ functions from a set with $m$ elements to one with $n$ elements. 
    \end{solution}

    \begin{exercise}
        How many one-to-one functions are there from a set with $m$ elements to one with $n$ elements?
    \end{exercise}
        \begin{solution}
            First note that when $m>n$ there are no one-to-one functions from a set with $m$ elements to a set with $n$ elements.
            
            Now let $m\leq n.$ Suppose the elements in the domain are $\alpha_1,\alpha_2,\ldots,\alpha_m$ .There are $n$ ways to choose the value of the function at $\alpha_1.$ 
            Because the function is one-to-one, the value of the function at $\alpha_{2}$ can be picked in $n-1$ ways (because the value used for $\alpha_{1}$ cannot be used again). 
            In general, the value of the function at $a_k$ can be chosen in $n-k+1$ ways. By the product rule, there are $n(n-1)(n-2)\cdots(n-m+1)$ one-to-one functions from a set 
            with $m$ elements to one with $n$ elements.
        \end{solution}

    \begin{exercise}
        Prove that if \( A_1, A_2, \ldots, A_m \) are finite sets, then the number of elements in the Cartesian product of these sets is the product of the number of elements in each set.
    \end{exercise}
        
        \begin{proof}
        Consider the finite sets \( A_1, A_2, \ldots, A_m \) with respective cardinalities \( |A_1|, |A_2|, \ldots, |A_m| \). The Cartesian product \( A_1 \times A_2 \times \cdots \times A_m \) is defined as the set of all ordered \( m \)-tuples \( (a_1, a_2, \ldots, a_m) \) where \( a_i \in A_i \) for each \( i \).
        
        To construct an element of the Cartesian product, we must choose an element from each set \( A_i \). The number of ways to choose an element from \( A_1 \) is \( |A_1| \), from \( A_2 \) is \( |A_2| \), and so on, until \( A_m \) which is \( |A_m| \).
        
        By the product rule of counting, the total number of ways to make these choices is the product of the number of choices for each set, which gives us:
        
        \[ |A_1 \times A_2 \times \cdots \times A_m| = |A_1| \cdot |A_2| \cdot \ldots \cdot |A_m| \]
        
        This product counts the number of distinct ordered \( m \)-tuples that can be formed, which is exactly the number of elements in the Cartesian product \( A_1 \times A_2 \times \cdots \times A_m \). Hence, the proof is complete.
        \end{proof}
    
    \begin{exercise}
        Let $A$ and $B$ be finite sets. $|A| = k+1$, $|B| = k$, prove that there is no one-to-one function defined in the mapping $A \to B$.
    \end{exercise}
        \begin{solution}
            By pigeonhole theorem, we have $k+1$ pigeons but only $k$ pigeonholes, so one pigeonhole must have $\lceil k+1/k \rceil = 2$ pigeonholes. This means that there is always one
            element from the codomain are mapped from the same element in the domain. Hence, the statement is proven.
        \end{solution}
        \begin{exercise}
            How many cards must be selected from a standard deck of 52 cards to guarantee that:
            \begin{enumerate}
                \item[a)] At least three cards of the same suit are selected?
                \item[b)] At least three hearts are selected?
            \end{enumerate}
            \end{exercise}
            
            \begin{solution}
            \textbf{a)} Suppose there are four boxes, one for each suit, and as cards are selected they are placed in the box reserved for cards of that suit. By the generalized pigeonhole principle, we see that if \( N \) cards are selected, there is at least one box containing at least \( \lceil N/4 \rceil \) cards. To ensure that at least three cards of one suit are selected, we need \( \lceil N/4 \rceil \geq 3 \). The smallest integer \( N \) satisfying this condition is \( N = 2 \cdot 4 + 1 = 9 \), since selecting 8 cards could result in two cards of each suit, but the ninth card guarantees three of one suit.
            
            \textbf{b)} Without the pigeonhole principle, we consider the worst-case scenario where the selected cards are all from the clubs, diamonds, and spades suits. There are 13 cards in each suit, so after selecting all 39 of these, the next three cards must be hearts. Therefore, we may need to select up to 42 cards to guarantee three hearts.
        \end{solution}
            

    \begin{exercise}
        Let \( X = \{a, b, c, d\} \).
        \begin{enumerate}
            \item[(a)] How many possible relations are there on \( X \)?
            \item[(b)] How many of these are reflexive?
            \item[(c)] How many of these are reflexive and symmetric?
            \item[(d)] How many of these are equivalence relations?
            \item[(e)] What would the answers to (a), (b) and (c) be if \( |X| = n \) instead of \( |X| = 4 \)?
        \end{enumerate}

    \end{exercise}    
    \begin{solution}
        For (a), the number of possible relations on a set $X$ is equal to the number of subsets of the power set $P(X \times X)$, which is $2^{|X \times X|} = 2^{16}$, since there are 16 possible pairs in $X \times X$ for $|X| = 4$.
        
        For (b), the number of reflexive relations on set $X$ can be found by considering that each element must be related to itself, fixing the diagonal entries of the relation matrix to 1. This leaves the other $16 - 4 = 12$ pairs, which correspond to the non-diagonal cells in the relation matrix, to be freely chosen as either part of the relation or not. Hence, there are $2^{12}$ reflexive relations, which is derived by using the division rule to divide the total number of relations by the number of choices for the diagonal (which is fixed), giving $\frac{2^{16}}{2^4} = 2^{12}$.
        
        For example, the relation matrix for a reflexive relation would be:
        $$
        R = \begin{bmatrix}
        1 & a & b & c \\
        d & 1 & e & f \\
        g & h & 1 & i \\
        j & k & l & 1 \\
        \end{bmatrix}
        $$
        \begin{remark}
        In the matrix $R$, the letters $a, b, c, d, \ldots, l$ represent arbitrary binary choices (either 0 or 1), not elements of the set $X$.
        \end{remark}
        
        For (c), a relation that is both reflexive and symmetric requires that for any $R_{ij} = 1$, the symmetric counterpart $R_{ji} = 1$ also holds. This reduces the number of independent binary choices to the upper triangle of the matrix, including the diagonal, which consists of 6 entries. Therefore, there are $2^6$ reflexive and symmetric relations.
        
        For (d), the equivalence relations correspond to the partitions of the set. The 4th Bell number, $B_4$, which represents the number of partitions of a set of 4 elements into non-empty subsets, is 15. Hence, there are 15 distinct equivalence relations on the set $X$.
        
        For (e), generalizing to a set of size $n$, the answers would be $2^{(n^2)}$ for the number of relations, $2^{n(n-1)}$ for the number of reflexive relations, and $2^{n(n-1)/2}$ for the number of reflexive and symmetric relations. These results can be deduced by extension and verified via mathematical induction.
        \end{solution}






















